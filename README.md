# <a id='up'>News Portal</a>

### Оглавление:
- [Полезные адреса для ознакомления с работой](#1)
- [Аккаунты](#2)
- [Модуль D6 - Работа с почтой и выполнение задач по расписанию](#3)
- [Модуль D7 - Работа с асинхронными задачами через Celery](#4)

### <a id='1'>Полезные адреса для ознакомления с работой</a>:
- http://127.0.0.1:8000/posts/ - все посты
- http://127.0.0.1:8000/accounts/signup/ - регистрация (все зарегистрированные пользователи (кроме авторизации через Yandex) добавляются в категорию authors)
- http://127.0.0.1:8000/accounts/login/ - логин
---

### <a id='2'>Аккаунты</a>:
- Admin
```
login: admin
password: admin
```
- popov_d1994@mail.ru
```
login: popov_d1994@mail.ru
password: Dima123456
```
- popovd1994@gmail.com
```
login: popovd1994@gmail.com
password: Dima123456
```

---
## <a id='3'>Модуль D6</a> - Работа с почтой и выполнение задач по расписанию
- Добавлена возможность подписываться на категории публикаций. При создании публикации подписчику на указанную почту при регистрации будет отправляться краткое содержание поста с гиперссылкой на сайт поста.
- Добавлено приветственное письмо при регистрации на портале и ссылкой на подтверждение регистрации.
- Добавлено ограничение на количество пуликаций для одного автора - не более трех в сутки.
- Реализована еженедельная рассылка публикаций подписчикам.  

Данные с которой будет осуществляться рассылка сообщений на почту подписчикам находятся в файле .env в директории с файлом manage.py

---
## <a id='4'>Модуль D7</a> - Работа с асинхронными задачами через Celery
- Доработан функционал по рассылки сообщений подписчикам модуля D6. При помощи Redis и библеотеки Celery данные задачи теперь выполняются в асинхронном режиме.  

Алгоритм запуска:
1. Отдельно от PyCharm запускаем терминал Ubuntu и включаем редис сервер:
```
redis-server
```
2. В PyCharm открываем терминал Windows и запускаем на нем приложение:
```
python manage.py runserver
```
3. В PyCharm открываем терминал Ubuntu и запускаем Celery
```
celery -A NP worker -l INFO -B
```
[Вверх](#up)
